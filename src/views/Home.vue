<template>
  <div class="me">
    <div class="hello">
      <h3>HELLO!</h3>
      <p>
        ä½ å¥½ï¼æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼æˆ‘æ˜¯ä¸€åWEBå‰ç«¯å·¥ç¨‹å¸ˆï¼Œçƒ­è¡·äºç ”ç©¶JavaScriptã€Nodeã€Vueã€å¾®ä¿¡å°ç¨‹åºâ€¦â€¦è¿™æ˜¯æˆ‘çš„ä¸»é¡µï¼æˆ‘ä¼šåœ¨è¿™é‡Œå‘è¡¨ä¸€äº›ä¸æˆç†Ÿçš„æŠ€æœ¯æ–‡ç« ï¼Œè®°å½•ä¸€äº›æ²™é›•çš„æ—¥å¸¸ã€‚åšå®¢ç›®å‰ä½¿ç”¨çš„æ˜¯Vue
        + Element + Node + Koa2 +
        MongoDBæ­å»ºçš„ï¼Œå¦‚æœå¯¹æºç æ„Ÿå…´è¶£çš„è¯å¯ä»¥è”ç³»æˆ‘å“¦~ æ¬¢è¿æå‡ºå®è´µçš„å»ºè®®å“¦ï¼
      </p>
    </div>
    <div class="text">
      <div class="skill">
        <div class="msg">
          <h3>ä¸ªäººä¿¡æ¯</h3>
          <ul>
            <li>
              <p>NICKNAME</p>
              <p>ä¹æ­¤ä¸ç–²</p>
            </li>
            <li>
              <p>SEX</p>
              <p>ğŸš¹â™‚ğŸš¹â™‚</p>
            </li>
            <li>
              <p>AGE</p>
              <p>æ°¸è¿œ18</p>
            </li>
            <li>
              <p>HOBBY</p>
              <p>å¿…ç„¶æ˜¯å­¦ä¹ </p>
            </li>
          </ul>
        </div>
        <div class="can">
          <h3>æŠ€èƒ½</h3>
          <ul>
            <li>
              <p class="lang">
                <span>HTML5 &amp; CSS3</span>
                <span>90%</span>
              </p>
              <p class="level1 level"></p>
            </li>
            <li>
              <p class="lang">
                <span>JavaScript</span>
                <span>80%</span>
              </p>
              <p class="level2 level"></p>
            </li>
            <li>
              <p class="lang">
                <span>Vue.js</span>
                <span>80%</span>
              </p>
              <p class="level3 level"></p>
            </li>
            <li>
              <p class="lang">
                <span>Node &amp; Koa2</span>
                <span>75%</span>
              </p>
              <p class="level4 level"></p>
            </li>
            <li>
              <p class="lang">
                <span>Mongodb</span>
                <span>70%</span>
              </p>
              <p class="level5 level"></p>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="recommend">
    <div class="describe">
      <h2>æ¨è</h2>
      <p><a href="/message">æ›´å¤šçƒ­é—¨æ–‡ç« </a> è¯·è®¿é—®æ–‡ç« é¡µï¼ˆï¿£ï¸¶ï¿£ï¼‰â†—ã€€</p>
    </div>
    <div class="article-list">
      <ul>
        <li v-for="item in recommendArticle" :key="item._id">
          <img :src="baseURL + item.coverUrl" alt="å›¾ç‰‡" />
          <h3>{{ item.title }}</h3>
          <div class="cover">
            <a :href="`/message/${item._id}`">
              <p>{{ item.describe }}</p>
              <p>ç‚¹å‡»</p>
            </a>
          </div>
        </li>
      </ul>
    </div>
  </div>
  <div class="work">
    <h2>å­¦ä¹ ç»å†</h2>
    <ul>
      <li>
        <p class="time">2018-2019</p>
        <div class="introduce">
          <h3>åˆå­¦å‰ç«¯</h3>
          <p class="company">è‡ªå­¦</p>
          <p class="describe">
            åˆšå¼€å§‹è®¤è¯†å‰ç«¯ä¸€æ˜¯ä¸“ä¸šç›¸ä¼¼ã€äºŒå°±æ˜¯å…´è¶£è€Œçˆ±ã€ åˆšå¼€å§‹è‡ªå­¦äº†html+css3ã€ èƒ½å¤Ÿè‡ªå·±å†™ä¸€äº›å°çš„é™æ€ç½‘é¡µã€ ä¹Ÿå°±è‡ªèƒ½è‡ªå·±ç…ç…ã€ å› ä¸ºä¸‘çš„ä¸€æ‰¹ã€ ä¸å¿ç›´è§†ã€‚
          </p>
        </div>
      </li>
      <li>
        <p class="time">2019-2020</p>
        <div class="introduce">
          <h3>æ•°æ®äº¤äº’</h3>
          <p class="company">çº¿ä¸ŠåŸ¹è®­ç­</p>
          <p class="describe">
            å¯¹å‰ç«¯æœ‰äº†ä¸€å®šçš„äº†è§£ä¹‹åã€å› ä¸ºå…´è¶£æ„ˆåŠ æµ“åšã€å°±æ‰¾åˆ°äº†ä¸€ä¸ªwebå…¨æ ˆåŸ¹è®­ç­ã€è™½ç„¶æœ‰ç‚¹å°è´µã€ä½†æˆ‘è¿˜æ˜¯æ¯…ç„¶å†³ç„¶çš„æŠ¥åäº†ã€å½“ç„¶åœ¨åŸ¹è®­æœŸé—´æˆ‘ä¹Ÿæ˜¯å­¦åˆ°äº†è®¸å¤šçŸ¥è¯†ã€åŠ¨æ‰‹æ“ä½œèƒ½åŠ›æ›´å¼ºäº†ã€ç¢°åˆ°äº†bugè€å¸ˆè¿˜ä¼šå¸®å¿™åˆ†æçº é”™ã€è¿™å¯¹æˆ‘æ¥è¯´çœŸçš„å¤ªæœ‰å¸®åŠ©äº†ã€æˆ‘çªç„¶è§‰çš„æˆ‘å½“æ—¶çš„å†³å®šæ˜¯å¯¹çš„
          </p>
        </div>
      </li>
      <li>
        <p class="time">2020-2021</p>
        <div class="introduce">
          <h3>Vue,Koa2æ¡†æ¶</h3>
          <p class="company">å®æˆ˜è®­ç»ƒ</p>
          <p class="describe">
            ç»è¿‡ä¸¤å¹´çš„å­¦ä¹ ã€å¯¹å‰ç«¯å·¥ç¨‹å¸ˆä¹Ÿæœ‰äº†æ›´æ·±åˆ»çš„ç†è§£ã€å­¦ä¹ çš„è·¯ä¸Šå¾ˆåå·ã€ è§£bugå¾ˆå¤´ç–¼ã€ ç»å†äº†å„ç§å„æ ·çš„ç¨€å¥‡å¤æ€ªçš„ç£¨ç»ƒã€æœ€ç»ˆæ‰“ç®—å†™äº†ä¸€ä¸ªä¸ªäººåšå®¢ã€ å¸Œæœ›åœ¨é¢è¯•ä¸­é¢è¯•å®˜èƒ½ç…ä¸Šä¸¤çœ¼ã€ è™½ç„¶è¿™ä¸ªä½œå“å¹³å¹³æ— å¥‡ã€ ä½†ä¹Ÿæ˜¯å¯¹äºå®ä¹ åº”å±Šç”Ÿçš„æˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªå¤§å·¥ç¨‹å’Œå¤§è€ƒéªŒã€ å¸Œæœ›æœªæ¥å‰é€”å…‰åã€ ç»§ç»­åŠªåŠ›çš„ä¸€ç›´èµ°ä¸‹å»ã€‚
          </p>
        </div>
      </li>
    </ul>
  </div>
  <div class="callme">
    <div class="describe">
      <h2>è”ç³»æˆ‘</h2>
      <p>æœ‰ä»»ä½•é—®é¢˜è¯·è”ç³»æˆ‘å§ï¼Œæ”¶åˆ°æ¶ˆæ¯åä¼šç»™æ‚¨å›å¤é‚®ä»¶çš„å“¦â™ª(^âˆ‡^*)</p>
    </div>
    <!-- è¡¨å• -->
    <el-form
      :model="contactForm"
      :rules="rules"
      ref="contactForm"
      label-position="top"
    >
      <el-form-item label="ä½ çš„åå­—æ˜¯ï¼Ÿ" prop="name">
        <el-input v-model="contactForm.name"></el-input>
      </el-form-item>
      <el-form-item label="ä½ çš„é‚®ç®±" prop="email">
        <el-input v-model="contactForm.email"></el-input>
      </el-form-item>
      <el-form-item label="ä½ è¦å‘é€çš„æ¶ˆæ¯å†…å®¹" prop="message">
        <el-input v-model="contactForm.message"></el-input>
      </el-form-item>
      <el-form-item>
        <el-button type="primary" @click="submitForm">å‘é€</el-button>
      </el-form-item>
    </el-form>
  </div>
</template>

<script>
export default {
  name: "Home",
  data() {
    return {
      //æ¨èæ–‡ç« æ•°æ®çš„æ•°ç»„
      recommendArticle: [],
      contactForm: {
        //è¡¨å•çš„æ•°æ®å¯¹è±¡
        name: "",
        email: "",
        message: "",
      },
      rules: {
        //è¡¨å•çš„éªŒè¯è§„åˆ™   ä¸æ ‡ç­¾ä¸­çš„propå±æ€§å€¼å¯¹åº”
        name: [{ required: true, message: "nameå€¼å¿…é¡»å¡«å†™", trigger: "blur" }],
        email: [{ required: true, type: "email", trigger: "blur" }],
        message: [{ required: true, trigger: "blur" }],
      },  
    };
  },
  methods: {
        submitForm() {
          /* 
        åœ¨htmlæ ‡ç­¾é‡Œå†™refå±æ€§ï¼Œæ¯”å¦‚ref="wanzi"
        åœ¨jsä¸­ï¼Œé€šè¿‡this.$refs.wanzi å¾—åˆ°å†™äº†refå±æ€§çš„domèŠ‚ç‚¹ã€‚
      */
          console.log('åé¦ˆè¯·æ±‚æˆåŠŸ'); //è¡¨å•èŠ‚ç‚¹ä»£ç†å¯¹è±¡
          this.$refs.contactForm.validate(async (result) => {
            if (result) {
              //æ ¡éªŒé€šè¿‡  å‘èµ·è¯·æ±‚ï¼Œå°†æ•°æ®å‘é€ç»™åç«¯
              let { data } = await this.$axios({
                method: "POST",
                url: "/feedback",
                data: this.contactForm,
              });
              if (data.code) return this.$message.error(data.message);
              this.$message.success(
                "å·²æ”¶åˆ°æ‚¨çš„åé¦ˆï¼Œä½œè€…ä¼šåœ¨7ä¸ªå·¥ä½œæ—¥å†…å›å¤çš„ï¼"
              );
              this.$refs.contactForm.resetFields(); //æ¸…ç©ºè¡¨å•
            } else {
              //æœªé€šè¿‡æ ¡éªŒ
              return false;
            }
          });
        },
        //è¯·æ±‚è·å–æ‰€æœ‰çš„æ–‡ç« æ•°æ®
        async getArticles() {
          let { data } = await this.$axios({
            method: "GET",
            url: "/getAllArticle",
          });
          if (data.code) return; //æ²¡æœ‰æ–‡ç« æ—¶ç›´æ¥return
          this.recommendArticle = data.data.slice(0, 4); //0-4ä¸‹æ ‡ä½ç½®çš„æ–‡ç« æ•°æ®
        },
      },
      created() {
        this.getArticles();
      },
};
</script>
<style lang="less" scoped>
.me {
  width: 100%;
  background: white;
  box-sizing: border-box;
  padding: 10px;
  font-family: "Quicksand";
  .hello {
    border-bottom: 1px solid #ccc;
    h3 {
      margin: 20px 0px;
      font-size: 25px;
      font-weight: bold;
      letter-spacing: 4px;
      font-family: Quicksand;
    }
    p {
      // border-bottom: 1px solid #ddd;
      margin-bottom: 20px;
      text-indent: 2em;
      color: #444;
      font-size: 14px;
      letter-spacing: 4px;
      line-height: 30px;
      font-family: "Quicksand";
    }
  }
  .skill {
    display: flex;
    justify-content: space-between;
    width: 100%;
    .msg {
      width: 50%;
      h3 {
        margin: 20px 0px;
        font-size: 22px;
        color: rgb(114, 112, 112);
      }
      ul {
        width: 100%;
        overflow: hidden;
        li {
          display: flex;
          margin-bottom: 52px;
          font-size: 13px;
          font-family: "Quicksand";
          &:nth-last-child(1) {
            margin-bottom: 0;
          }
          p {
            flex: 1;
          }
          p:nth-child(1) {
            font-weight: 700;
          }
        }
      }
    }
    .can {
      width: 50%;
      h3 {
        margin: 20px 0px;
        font-size: 22px;
        color: rgb(114, 112, 112);
      }
      li {
        margin-bottom: 30px;
        font-size: 13px;
        .lang {
          display: flex;
          justify-content: space-between;
          span {
            font-weight: bold;
            letter-spacing: 2px;
          }
          span:nth-child(2) {
            color: #999;
          }
        }
        .level {
          width: 100%;
          height: 5px;
        }
        .level1{background-image: linear-gradient(to right, #bfe2e6 90%, #ececec 90%);}
        .level2 {background-image: linear-gradient(to right, #bfe2e6 80%, #ececec 80%);}
        .level3 {background-image: linear-gradient(to right, #bfe2e6 80%, #ececec 80%);}
        .level4 {background-image: linear-gradient(to right, #bfe2e6 75%, #ececec 75%);}
        .level5 {background-image: linear-gradient(to right, #bfe2e6 70%, #ececec 70%);}
        &:nth-last-child(1) {
          margin-bottom: 0px;
        }
      }
    }
  }
}
// æ¨è + å·¥ä½œç»å†
.recommend {
  margin-top: 10px;
  box-sizing: border-box;
  padding: 10px;
  background: white;
  .describe {
    padding-bottom: 24px;
    font-size: 14px;
    border-bottom: 1px solid rgb(150, 148, 148);
    h2 {
      font-weight: bolder;
      font-size: 24px;
      margin: 15px 0px;
    }
    p {
      margin-left: 30px;
      a {
        text-decoration: underline;
        color: #aaa;
      }
    }
  }
  .article-list ul {
    display: flex;
    overflow: hidden;
    width: 100%;
    margin-top: 20px;
    justify-content: space-between;
    li {
      position: relative;
      width: 24%;
      img {
        width: 100%;
        height: 100%;
      }
      h3 {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 26px;
        background-color: rgba(0, 0, 0, 0.5);
        color: #fff;
        line-height: 26px;
        text-align: center;
        font-size: 12px;
      }
      .cover {
        position: absolute;
        top: 0;
        left: 0;
        opacity: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.3);
        transition: 0.3s;
        a {
          display: block;
          width: 100%;
          height: 100%;
          color: #fff;
          text-align: center;
          p {
            position: absolute;
            font-weight: bold;
            transition: 0.3s;
          }
          p:nth-child(1) {
            width: 100%;
            top: 20%;
            font-size: 18px;
          }
          p:nth-child(2) {
            left: 50%;
            bottom: 20%;
            width: 50%;
            height: 30px;
            line-height: 30px;
            background-color: rgb(191, 226, 230);
            color: #000;
            font-size: 14px;
            transform: translateX(-50%);
            border-radius: 15px;
          }
        }
      }
      &:hover .cover {
        opacity: 1;
        p:nth-child(1) {
          top: 30%;
        }
        p:nth-child(2) {
          bottom: 30%;
        }
      }
    }
  }
}
.work {
  margin-top: 10px;
  box-sizing: border-box;
  padding: 10px;
  background: white;
  h2 {
    font-weight: bolder;
    font-size: 24px;
    margin: 15px 0px;
  }
  ul {
    margin-top: 45px;
    width: 100%;
    li {
      display: flex;
      justify-content: space-between;
      width: 100%;
      // margin-bottom: 40px;
      .time {
        position: relative;
        top: -15px;
        width: 100px;
        height: 30px;
        margin-right: 28px;
        line-height: 30px;
        text-align: center;
        font-weight: 700;
        background-color: #bfe2e6;
        &::after {
          position: absolute;
          content: "";
          top: 0;
          right: -30px;
          width: 0;
          height: 0;
          border: 15px solid transparent;
          border-left-color: #bfe2e6;
        }
      }
      .introduce {
        position: relative;
        padding: 0 40px 40px 20px;
        border-left: 2px solid #bfe2e6;
        &::after {
          position: absolute;
          top: 0;
          left: -3px;
          content: "";
          width: 4px;
          height: 4px;
          background-color: #000;
        }
        h3 {
          position: relative;
          margin-bottom: 20px;
          bottom: 11px;
          line-height: 25px;
          font-size: 20px;
          font-weight: bold;
        }
        .company {
          color: #000;
          margin-bottom: 20px;
        }
        .describe {
          width: 575px;
          color: #777;
          letter-spacing: 1px;
          font-size: 16px;
          line-height: 26px;
        }
      }
      &:nth-last-child(1) .introduce {
        padding-bottom: 0;
      }
    }
  }
}
.callme {
  margin-top: 10px;
  box-sizing: border-box;
  padding: 10px;
  background: white;
  .describe {
    padding-bottom: 24px;
    font-size: 14px;
    border-bottom: 1px solid rgb(150, 148, 148);
    h2 {
      font-weight: bolder;
      font-size: 24px;
      margin: 15px 0px;
    }
    p {
      margin-left: 30px;
      color: rgb(122, 121, 121);
    }
  }
}
</style>
